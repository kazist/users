jQuery(document).ready(function(){role_view.addEvents(jQuery("body"))});role_view=function(){return{addEvents:function(a){a.find(".role-application-right").on("click",function(){role_view.fetchApplicationRoles(jQuery(this))});a.find(".check_all").on("click",function(){role_view.addSelectAll(jQuery(this))});a.find(".uncheck_all").on("click",function(){role_view.clearSelection(jQuery(this))});a.find(".toggle_all").on("click",function(){role_view.toggleSelection(jQuery(this))})},fetchApplicationRoles:function(c){var e=c.attr("application_id");var a=c.attr("role_id");var f=c.closest(".panel").find(".panel-body");var g=c.closest(".panel").find(".panel-body table");kazist.addSpinningIcon(f);if(!g.length){var d={application_id:e,role_id:a};var b=kazist.callAjaxByRoute("users.roles.ajaxloadapplications",d,false);kazist.removeSpinningIcon(f);f.append(b);role_view.addEvents(f)}},addSelectAll:function(c){var b=c.attr("application_name");var a=jQuery("."+b+"_td input");console.log(a);role_view.changeStatus(a,true)},toggleSelection:function(d){var c=d.attr("application_name");var b=jQuery("."+c+"_td input:checked");var a=jQuery("."+c+"_td input");if(b.length){role_view.changeStatus(a,true);role_view.changeStatus(b,false)}else{role_view.changeStatus(a,true)}},clearSelection:function(c){var b=c.attr("application_name");var a=jQuery("."+b+"_td input");role_view.changeStatus(a,false)},changeStatus:function(a,b){a.each(function(){var d=jQuery(this);var c=d.closest("div");d.prop("checked",b);if(b){c.addClass("checked")}else{c.removeClass("checked")}})}}}();