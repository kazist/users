
{% if routes|length>0 %}
    <div>
        {% for key,route in routes %}

            <b>{{ key  }}. {{ route.route }}</b>

            {% for role in roles %}
                <div class="extension_routes_permission">
                    <div class="col-sm-2">
                        {{ role.title }}
                    </div>
                    <div class="col-sm-10">
                        <ul class="route-permission-list">

                            {% set route_permission =  attribute(route.route_permissions, role.id) %}

                            {% for permission in route.permissions %}
                                <li class="col-sm-4">
                                    
                                    {% set cur_permission = attribute(route_permission, permission) %}
                                    
                                    {% if permission != '' %}
                                        <input value="1" type="checkbox" {% if cur_permission %}checked{% endif %} role_id="{{ role.id }}" permission="{{ permission }}" route_id="{{ route.id }}"> {{ permission}}
                                    {% endif %} 
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                <div class="clr"></div>
            {% endfor %}
        {% endfor %}
    </div>
{% endif %}

<style>
    .extension_routes_permission{
        border-bottom:1px dotted #ccc;
    }

    .route-permission-list{
        list-style: none;
    }

    .extension_routes [class*="col-"]{
        padding-left: 5px;
        padding-right:5px;
    }

</style>